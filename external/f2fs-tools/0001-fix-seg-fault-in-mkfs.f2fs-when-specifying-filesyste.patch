From 952b9a3488100ece21bc03c49d6b2e1aa18cf2a4 Mon Sep 17 00:00:00 2001
From: DoloresPark <dolorespark@e-vertise.com>
Date: Thu, 21 Aug 2014 21:49:32 -0400
Subject: [PATCH] fix seg fault in mkfs.f2fs when specifying filesystem size

---
 mkfs/f2fs_format_main.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/mkfs/f2fs_format_main.c b/mkfs/f2fs_format_main.c
index 19c52e4..fdd8ace 100644
--- a/mkfs/f2fs_format_main.c
+++ b/mkfs/f2fs_format_main.c
@@ -103,7 +103,8 @@ static void f2fs_parse_options(int argc, char *argv[])
 	if ((optind + 1) < argc) {
 		/* We have a sector count. */
 		config.total_sectors = atoll(argv[optind+1]);
-		MSG(0, "\ttotal_sectors=%lu (%s bytes)\n", config.total_sectors, argv[optind+1]);
+		MSG(0, "\ttotal_sectors=%llu (%llu bytes)\n", config.total_sectors,
+                                config.total_sectors * DEFAULT_SECTOR_SIZE);
 	}
 
 	config.reserved_segments  =
-- 
1.7.9.5

